<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cameron Fox</title>

    <!-- Load shared head content -->
    <script>
        fetch("GlobalCode/head.html")
            .then(res => res.text())
            .then(data => {
                document.head.insertAdjacentHTML("beforeend", data);
            });
    </script>
    
    <style>
        .navbar a:hover {
            text-decoration: underline;
        }

        html {
            scroll-behavior: smooth;
        }
    
        section {
            min-height: 10vh;
            padding: 10px 0px;
            position: relative;
        }

        /* Gradient border between sections */
        section:not(:last-of-type)::after {
            content: "";
            display: block;
            width: 100%;
            height: 3px;
            background: linear-gradient(to right, #151515, #4CAF50, #2196F3, #9C27B0, #FF5722, #151515);
            margin-top: 50px;
        }
    </style>
</head>
<body>

    <!-- Navbar -->
    <div class="navbar">
        <a href="#home">Home</a>
        <a href="#coding-projects">Projects</a>
        <a href="#work-history">Work History</a>
        <a href="#university">My Education</a>
        <a href="#contact-me">Contact Me</a>
    </div>

    <!-- Sections with dynamic content loading -->
    <section id="home"></section>
    <section id="coding-projects"></section>
    <section id="work-history"></section>
    <section id="university"></section>
    <section id="contact-me"></section>

    <!-- Load all sections -->
    <script>
        // Define which HTML file loads into which section
        const sections = [
            { id: 'home', file: 'Pages/AboutPage.html' },
            { id: 'coding-projects', file: 'Pages/codingPage.html' },
            { id: 'work-history', file: 'Pages/workHistory.html' },
            { id: 'university', file: 'Pages/school.html' },
            { id: 'contact-me', file: 'Pages/ContactMe.html' }
        ];

        // Load each section
        sections.forEach(section => {
            fetch(section.file)
                .then(res => res.text())
                .then(html => {
                    document.getElementById(section.id).innerHTML = html;
                })
                .catch(err => console.error(`Error loading ${section.file}:`, err));
        });
    </script>

    <!-- Carousel JavaScript (must be global) -->
    <script>
        let currentSlideIndex = 1;
        
        function changeSlide(n) {
            showSlide(currentSlideIndex += n);
        }
        
        function currentSlide(n) {
            showSlide(currentSlideIndex = n);
        }
        
        function showSlide(n) {
            const slides = document.getElementsByClassName("carousel-slide");
            const dots = document.getElementsByClassName("dot");
            
            // Loop back to first slide
            if (n > slides.length) {
                currentSlideIndex = 1;
            }
            
            // Loop to last slide - FIXED THIS LINE
            if (n < 1) {
                currentSlideIndex = slides.length;  // Changed from 'seeds.length' to 'slides.length'
            }
            
            // Hide all slides
            for (let i = 0; i < slides.length; i++) {
                slides[i].classList.remove("active");
            }
            
            // Remove active from all dots
            for (let i = 0; i < dots.length; i++) {
                dots[i].classList.remove("active");
            }
            
            // Show current slide
            if (slides.length > 0) {
                slides[currentSlideIndex - 1].classList.add("active");
            }
            
            // Show current dot
            if (dots.length > 0) {
                dots[currentSlideIndex - 1].classList.add("active");
            }
        }
    </script>

</body>
</html>